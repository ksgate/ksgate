# Deploy this first to see the pod gated from being schedule
apiVersion: v1
kind: Pod
metadata:
  name: my-app
  annotations:
    k8s.ksgate.org/configmap: |
      {
        "kind": "ConfigMap",
        "name": "my-configmap"
      }
spec:
  schedulingGates:
  - name: k8s.ksgate.org/configmap
  containers:
  - name: nginx
    image: nginx
    resources: {}
    volumeMounts:
    - name: my-volume
      mountPath: /usr/share/nginx/html/index.html
      subPath: index.html
  volumes:
  - name: my-volume
    configMap:
      name: my-configmap

